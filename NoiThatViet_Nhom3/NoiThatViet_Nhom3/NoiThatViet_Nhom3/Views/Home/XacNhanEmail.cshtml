@model NoiThatViet_Nhom3.Models.User

@{
    ViewBag.Title = "XacNhanEmail";
    Layout = "~/Views/Shared/_Layout.cshtml";
}

<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@4.6.2/dist/css/bootstrap.min.css">

    <link href="~/Content/Site.css" rel="stylesheet" />
    <style>
    </style>
</head>
<body>
    <section class="vh-100 gradient" style="background-color: #ffccd3;">
        <div class="container py-4">
            <div class="row d-flex justify-content-center align-items-center h-100">
                <div class="col-12 col-md-8 col-lg-6 col-xl-5">
                    <div class="card " style="border-radius: 1rem;">
                        <div class="card-body p-4 text-center">

                            <div class="mb-md-4 mt-md-3 pb-5 ">

                                <h2 style="color: #ffccd3;" class="fw-bold mb-2 text-uppercase">Xác Thực Gmail</h2>
                                <p style="color: #ffccd3;" class="text-50 mb-4">Bấm để nhận mã</p>
                                @using (Html.BeginForm())
                                {

                                    @Html.AntiForgeryToken()

                                    <div class="form-horizontal">
                                        @* kiểm tra lỗi *@
                                        @if (ViewBag.ConfirmationSuccess == false)
                                        {
                                            <div class="alert alert-danger" role="alert">
                                                Mã OTP không hợp lệ. Vui lòng thử lại.
                                            </div>
                                        }
                                        @Html.ValidationSummary(true, "", new { @class = "text-danger" })
                                        @* nhập code email xác nhận *@
                                        <div class="col-12 m-5 text-center" style="width:300px;">
                                            @Html.EditorFor(model => model.confirmationCode, new { htmlAttributes = new { @class = "form-control", id = "confirmationcode", style = "background-color: #f7f7f7;border-radius:10px;height:50px;", placeholder = "Nhập mã xác thực", required = "true" } })
                                        </div>
                                        <button id="submitButton" style="background-color: #ff9a9c;border-radius:40px;" class="btn-outline-light btn-lg px-3" type="submit">Xác Nhận</button>
                                    </div>
                                }


                            </div><p class="mb-0">
    Chưa nhận được otp gmail <a href="javascript:void(0)" id="resendLink" style="color:#ff9a9c" class="text-fw-bold">Nhận Lại</a>
</p>

                            <div>

                            </div>

                        </div>
                    </div>
                </div>
            </div>
        </div>
    </section>
    <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
    @*
        kiểm tra nhập vào code*@
    <script>
        $(document).ready(function () {
            $('#confirmationcode').on('input', function (e) {
                // Lấy giá trị nhập vào và loại bỏ tất cả các ký tự không phải số
                var cleanedValue = $(this).val().replace(/\D/g, '');
                // Kiểm tra xem giá trị nhập có dài hơn 6 ký tự không
                if (cleanedValue.length > 6) {
                    // Nếu có, cắt giá trị chỉ lấy 6 ký tự đầu tiên
                    cleanedValue = cleanedValue.substring(0, 6);
                }
                // Cập nhật giá trị của trường nhập với chuỗi đã làm sạch và cắt nếu cần
                $(this).val(cleanedValue);
            });
        });
    </script>


    
    <script src="https://cdn.jsdelivr.net/npm/jquery@3.7.1/dist/jquery.slim.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/popper.js@1.16.1/dist/umd/popper.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@4.6.2/dist/js/bootstrap.bundle.min.js"></script>

</body>
</html>
